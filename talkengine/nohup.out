 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
Loading faiss.
Traceback (most recent call last):
  File "run_telegrambot.py", line 45, in <module>
    k=3)
  File "/Users/sktelecom/Documents/workspace/tikitaka/convengine/module.py", line 96, in __init__
    self.faiss_index, self.class_list = self._faiss_indexing()
  File "/Users/sktelecom/Documents/workspace/tikitaka/convengine/module.py", line 128, in _faiss_indexing
    query_vectors = np.array(query_vectors).astype(np.float32)
ValueError: setting an array element with a sequence.
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 40, in <module>
    k=3)
  File "/Users/sktelecom/Documents/workspace/tikitaka/convengine/module.py", line 96, in __init__
    self.faiss_index, self.class_list = self._faiss_indexing()
  File "/Users/sktelecom/Documents/workspace/tikitaka/convengine/module.py", line 128, in _faiss_indexing
    query_vectors = np.array(query_vectors).astype(np.float32)
ValueError: setting an array element with a sequence.
Loading faiss.
Traceback (most recent call last):
  File "run_telegrambot.py", line 45, in <module>
    k=3)
  File "/Users/sktelecom/Documents/workspace/tikitaka/convengine/module.py", line 96, in __init__
    self.faiss_index, self.class_list = self._faiss_indexing()
  File "/Users/sktelecom/Documents/workspace/tikitaka/convengine/module.py", line 131, in _faiss_indexing
    normalize_L2(query_vectors)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/faiss/__init__.py", line 627, in normalize_L2
    fvec_renorm_L2(x.shape[1], x.shape[0], swig_ptr(x))
AttributeError: 'list' object has no attribute 'shape'
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 40, in <module>
    k=3)
  File "/Users/sktelecom/Documents/workspace/tikitaka/convengine/module.py", line 96, in __init__
    self.faiss_index, self.class_list = self._faiss_indexing()
  File "/Users/sktelecom/Documents/workspace/tikitaka/convengine/module.py", line 131, in _faiss_indexing
    normalize_L2(query_vectors)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/faiss/__init__.py", line 627, in normalize_L2
    fvec_renorm_L2(x.shape[1], x.shape[0], swig_ptr(x))
AttributeError: 'list' object has no attribute 'shape'
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 100, in <module>
    app.run('0.0.0.0', port=8080)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/flask/app.py", line 990, in run
    run_simple(host, port, self, **options)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 1010, in run_simple
    inner()
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 963, in inner
    fd=fd,
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 806, in make_server
    host, port, app, request_handler, passthrough_errors, ssl_context, fd=fd
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 699, in __init__
    HTTPServer.__init__(self, server_address, handler)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 453, in __init__
    self.server_bind()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/server.py", line 136, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 467, in server_bind
    self.socket.bind(self.server_address)
OSError: [Errno 48] Address already in use
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 100, in <module>
    app.run('0.0.0.0', port=8080)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/flask/app.py", line 990, in run
    run_simple(host, port, self, **options)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 1010, in run_simple
    inner()
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 963, in inner
    fd=fd,
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 806, in make_server
    host, port, app, request_handler, passthrough_errors, ssl_context, fd=fd
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 699, in __init__
    HTTPServer.__init__(self, server_address, handler)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 453, in __init__
    self.server_bind()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/server.py", line 136, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 467, in server_bind
    self.socket.bind(self.server_address)
OSError: [Errno 48] Address already in use
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 100, in <module>
    app.run('0.0.0.0', port=8080)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/flask/app.py", line 990, in run
    run_simple(host, port, self, **options)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 1010, in run_simple
    inner()
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 963, in inner
    fd=fd,
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 806, in make_server
    host, port, app, request_handler, passthrough_errors, ssl_context, fd=fd
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 699, in __init__
    HTTPServer.__init__(self, server_address, handler)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 453, in __init__
    self.server_bind()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/server.py", line 136, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 467, in server_bind
    self.socket.bind(self.server_address)
OSError: [Errno 48] Address already in use
Loading faiss.
Traceback (most recent call last):
  File "run_telegrambot.py", line 96, in <module>
    main()
  File "run_telegrambot.py", line 64, in main
    update_id = bot.get_updates()[0].update_id
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/bot.py", line 65, in decorator
    result = func(self, *args, **kwargs)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/bot.py", line 1975, in get_updates
    result = self._request.post(url, data, timeout=float(read_latency) + float(timeout))
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/utils/request.py", line 309, in post
    headers={'Content-Type': 'application/json'})
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/utils/request.py", line 233, in _request_wrapper
    raise NetworkError('{0} ({1})'.format(message, resp.status))
telegram.error.NetworkError: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running (409)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 100, in <module>
    app.run('0.0.0.0', port=8080)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/flask/app.py", line 990, in run
    run_simple(host, port, self, **options)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 1010, in run_simple
    inner()
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 963, in inner
    fd=fd,
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 806, in make_server
    host, port, app, request_handler, passthrough_errors, ssl_context, fd=fd
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 699, in __init__
    HTTPServer.__init__(self, server_address, handler)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 453, in __init__
    self.server_bind()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/server.py", line 136, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 467, in server_bind
    self.socket.bind(self.server_address)
OSError: [Errno 48] Address already in use
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 100, in <module>
    app.run('0.0.0.0', port=8080)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/flask/app.py", line 990, in run
    run_simple(host, port, self, **options)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 1010, in run_simple
    inner()
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 963, in inner
    fd=fd,
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 806, in make_server
    host, port, app, request_handler, passthrough_errors, ssl_context, fd=fd
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 699, in __init__
    HTTPServer.__init__(self, server_address, handler)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 453, in __init__
    self.server_bind()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/server.py", line 136, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 467, in server_bind
    self.socket.bind(self.server_address)
OSError: [Errno 48] Address already in use
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 100, in <module>
    app.run('0.0.0.0', port=8080)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/flask/app.py", line 990, in run
    run_simple(host, port, self, **options)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 1010, in run_simple
    inner()
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 963, in inner
    fd=fd,
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 806, in make_server
    host, port, app, request_handler, passthrough_errors, ssl_context, fd=fd
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 699, in __init__
    HTTPServer.__init__(self, server_address, handler)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 453, in __init__
    self.server_bind()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/server.py", line 136, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 467, in server_bind
    self.socket.bind(self.server_address)
OSError: [Errno 48] Address already in use
Loading faiss.
Traceback (most recent call last):
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/connectionpool.py", line 402, in _make_request
    six.raise_from(e, None)
  File "<string>", line 2, in raise_from
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/connectionpool.py", line 398, in _make_request
    httplib_response = conn.getresponse()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/client.py", line 1331, in getresponse
    response.begin()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/client.py", line 297, in begin
    version, status, reason = self._read_status()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/client.py", line 258, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Users/sktelecom/anaconda3/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
  File "/Users/sktelecom/anaconda3/lib/python3.6/ssl.py", line 1009, in recv_into
    return self.read(nbytes, buffer)
  File "/Users/sktelecom/anaconda3/lib/python3.6/ssl.py", line 871, in read
    return self._sslobj.read(len, buffer)
  File "/Users/sktelecom/anaconda3/lib/python3.6/ssl.py", line 631, in read
    v = self._sslobj.read(len, buffer)
socket.timeout: The read operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/utils/request.py", line 203, in _request_wrapper
    resp = self._con_pool.request(*args, **kwargs)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/request.py", line 70, in request
    **urlopen_kw)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/request.py", line 148, in request_encode_body
    return self.urlopen(method, url, **extra_kw)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/poolmanager.py", line 244, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/connectionpool.py", line 666, in urlopen
    _stacktrace=sys.exc_info()[2])
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/util/retry.py", line 347, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/packages/six.py", line 686, in reraise
    raise value
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/connectionpool.py", line 617, in urlopen
    chunked=chunked)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/connectionpool.py", line 405, in _make_request
    exc_cls=ReadTimeoutError)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/vendor/ptb_urllib3/urllib3/connectionpool.py", line 321, in _raise_timeout
    raise exc_cls(*args)
telegram.vendor.ptb_urllib3.urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.telegram.org', port=443): Read timed out. (read timeout=5.0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "run_telegrambot.py", line 96, in <module>
    main()
  File "run_telegrambot.py", line 64, in main
    update_id = bot.get_updates()[0].update_id
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/bot.py", line 65, in decorator
    result = func(self, *args, **kwargs)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/bot.py", line 1975, in get_updates
    result = self._request.post(url, data, timeout=float(read_latency) + float(timeout))
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/utils/request.py", line 309, in post
    headers={'Content-Type': 'application/json'})
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/telegram/utils/request.py", line 205, in _request_wrapper
    raise TimedOut()
telegram.error.TimedOut: Timed out
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
Traceback (most recent call last):
  File "run_slackbot.py", line 100, in <module>
    app.run('0.0.0.0', port=8080)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/flask/app.py", line 990, in run
    run_simple(host, port, self, **options)
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 1010, in run_simple
    inner()
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 963, in inner
    fd=fd,
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 806, in make_server
    host, port, app, request_handler, passthrough_errors, ssl_context, fd=fd
  File "/Users/sktelecom/anaconda3/lib/python3.6/site-packages/werkzeug/serving.py", line 699, in __init__
    HTTPServer.__init__(self, server_address, handler)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 453, in __init__
    self.server_bind()
  File "/Users/sktelecom/anaconda3/lib/python3.6/http/server.py", line 136, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/Users/sktelecom/anaconda3/lib/python3.6/socketserver.py", line 467, in server_bind
    self.socket.bind(self.server_address)
OSError: [Errno 48] Address already in use
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
 * Serving Flask app "run_slackbot" (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
Loading faiss.
 * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)
